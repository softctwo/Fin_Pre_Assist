# =============================================================================
# 金融售前方案辅助系统 - 环境配置模板
# =============================================================================
# 使用说明:
# 1. 复制此文件并重命名为 .env
# 2. 根据环境修改对应配置（开发/测试/生产）
# 3. **重要**: SECRET_KEY 必须修改为至少32位随机字符串
# 4. **安全**: 不要提交 .env 文件到版本控制
# =============================================================================

# -----------------------------------------------------------------------------
# 环境配置
# -----------------------------------------------------------------------------
# 环境类型: development / testing / production
ENVIRONMENT=development

# Application Settings
APP_NAME=金融售前方案辅助系统
APP_VERSION=1.0.0
DEBUG=True
API_PREFIX=/api/v1

# Server Settings
HOST=0.0.0.0
PORT=8000

# Database Settings
DATABASE_URL=postgresql://user:password@localhost:5432/fin_pre_assist
DATABASE_ECHO=False

# Vector Database
CHROMA_PERSIST_DIRECTORY=./storage/chroma

# Redis Settings
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# -----------------------------------------------------------------------------
# 安全配置 (⚠️ 重要)
# -----------------------------------------------------------------------------
# JWT Settings
# ⚠️ 必须修改！生成命令: openssl rand -hex 32
SECRET_KEY=CHANGE_THIS_TO_A_RANDOM_SECRET_KEY_AT_LEAST_32_CHARACTERS_LONG
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# 密码强度验证已启用 (至少18位, 包含大小写和数字)
# API限流已启用 (登录5/分, 注册10/分, AI生成10/时)

# -----------------------------------------------------------------------------
# AI 模型配置
# -----------------------------------------------------------------------------
# 智谱 GLM-4 (推荐, 项目默认使用)
ZHIPU_API_KEY=your-zhipu-api-key-here
ZHIPU_MODEL=glm-4

# OpenAI
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=gpt-3.5-turbo

# 通义千问 (Tongyi)
TONGYI_API_KEY=your-tongyi-api-key

# 文心一言 (Wenxin)
WENXIN_API_KEY=your-wenxin-api-key
WENXIN_SECRET_KEY=your-wenxin-secret-key

# 默认使用的AI提供商 (zhipu/openai/tongyi/wenxin/local)
AI_PROVIDER=zhipu

# File Storage
UPLOAD_DIR=./storage/documents
EXPORT_DIR=./storage/exports
MAX_UPLOAD_SIZE=52428800  # 50MB

# -----------------------------------------------------------------------------
# CORS 跨域配置
# -----------------------------------------------------------------------------
# 开发环境: 允许本地前端访问
# 生产环境: 仅允许实际域名
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# -----------------------------------------------------------------------------
# 日志配置
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO
LOG_FILE=./logs/app.log
# 生产环境日志会自动压缩并保留30天

# -----------------------------------------------------------------------------
# 性能监控 (Phase 2 新增)
# -----------------------------------------------------------------------------
# 是否启用性能指标 /metrics 端点 (仅开发环境)
ENABLE_METRICS=True

# -----------------------------------------------------------------------------
# 数据库索引优化 (Phase 4 新增)
# -----------------------------------------------------------------------------
# Proposals 表: 6个单列索引 + 3个复合索引
# Documents 表: 6个单列索引 + 3个复合索引
# 查询性能预计提升50%+
